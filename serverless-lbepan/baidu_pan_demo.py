from baidupcs_py.baidupcs import BaiduPCSApi
from http.cookies import SimpleCookie



cookies = 'BAIDUID=8B12FCBF28BE42FABCD900000A2B79CB:FG=1; BAIDUID_BFESS=8B12FCBF28BE42FABCD900000A2B79CB:FG=1; __bid_n=19a30bde8a97536193010f; PANWEB=1; newlogin=1; BDCLND=yRLymRepohY025Txi%2FvBkYAf9KCmB2LNF8q1LjiyWiY%3D; BDUSS=nVwTFJMVW5ycGc3YmFvbzdmV3pwZWVibGZhdWFVakxZNXdxTkFrSkRzY3lFeXRwSVFBQUFBJCQAAAAAAAAAAAEAAAD7vZMBaGFvMTAzMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADKGA2kyhgNpd; BDUSS_BFESS=nVwTFJMVW5ycGc3YmFvbzdmV3pwZWVibGZhdWFVakxZNXdxTkFrSkRzY3lFeXRwSVFBQUFBJCQAAAAAAAAAAAEAAAD7vZMBaGFvMTAzMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADKGA2kyhgNpd; STOKEN=75250c8b6b4d5452e9e7ffd50040e4ebe277cd79cd6aa505eb8b6c091f7170bf; RT="z=1&dm=baidu.com&si=c1c72879-e85c-4626-abce-7b0653ad8f4b&ss=mhdl8z98&sl=4&tt=32t&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=7r0&ul=3c9d3&hd=3ca78"; csrfToken=B7xVwoXRZgPzbvgX3lqlcarQ; PANPSC=9599524552269851516%3Au9Rut0jYI4pGjCQmuLgx7lcS2d9ns3O5C61tf8CKQkikU5a%2FM3MJnnPc7e%2BR5fDLayHh2QkkzXIqz6XJXjHGsivbCphtI0nMMLJhA7AAwEDpYllMlZ8j%2F117ReZ8SH%2FCFl7owtXleijihEIzmOtMnRArlmnjyST%2FGMRq%2F3cCaRJEm4MRChMSjNKFGpHFVJ%2FL7xSFWZiHBC0h6uZoP3DwQ9YfJggg9xZJ2d71q7e%2BSo8kcl7MHAseky5XmOs%2BFd1pUEW8YfjklcUa0BFVxCveK49TP9LiBms3krFWWqsgPEw%3D; ndut_fmt=7C243A00A619CB0D7B1080F5D512593DE00721536F577C0906ECEB60FC901969; ab_sr=1.0.1_MTM0OGMwZjY0YzAzNzJlOTkzN2NhYWEyNDQ1NDUyMDU3Y2NiNWMwNWJhMWIyZGE1NDJjZmNjYzAzZjM4YTdiY2E4MTMzYTZhYjkyYjkwNWRkZjFiNDdhYTE2NzJlYzIzZmI1OGM0MWM1NGM1OWY4OTg4NDVkY2EwZDZiZTNmMDUwYzljNGI5NGYyNGIzNmU1Y2NmNWFhM2ZmYzU3NTJmZjA1MTY5YTBiOTQ1ZmIwODAzOTA5NWI1N2Q4NDkyOWVl'
bduss = 'nVwTFJMVW5ycGc3YmFvbzdmV3pwZWVibGZhdWFVakxZNXdxTkFrSkRzY3lFeXRwSVFBQUFBJCQAAAAAAAAAAAEAAAD7vZMBaGFvMTAzMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADKGA2kyhgNpd'


# 1. 创建 SimpleCookie 对象并加载字符串
cookie = SimpleCookie()
cookie.load(cookies)

# 2. 解析出键值对，存入字典
cookies_dict = {}
for key, morsel in cookie.items():
    cookies_dict[key] = morsel.value


api = BaiduPCSApi(bduss=bduss, cookies=cookies_dict)
l = api.list('/重新整理的竞赛真题/US-美国/AMC 美国数学竞赛/AMC8/中英版')
for item in l:
    print(item)